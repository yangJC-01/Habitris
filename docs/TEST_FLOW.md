# Habitris 핵심 플로우 테스트

PC 앱 사용 가능 수준(M3) 검증을 위한 수동 테스트 체크리스트다.

---

## 1. 습관 완료 → 블록 자동 쌓기

1. [ ] 습관을 하나 이상 추가한다.
2. [ ] 습관 행의 **완료** 체크박스를 눌러 오늘 완료로 표시한다.
3. [ ] 테트리스 그리드에 해당 습관의 블록 타입(I/O/T/S/Z/J/L) 블록이 **자동으로** 맨 위에서 낙하해 쌓인다.
4. [ ] 완료를 다시 눌러 해제해도, 이미 쌓인 블록은 그대로다.

---

## 2. 한 줄 완성 → Castle 반영

1. [ ] 직접 배치 버튼(I/O/T 등)이나 습관 완료로 그리드에 블록을 쌓는다.
2. [ ] **한 줄을 꽉 채운다** (가로 10칸 전부 블록으로).
3. [ ] 그 줄이 **사라지고** 그리드가 내려앉는다.
4. [ ] 화면 하단(또는 토스트)에 **"한 줄 완성! Castle에 쌓였어요"** 같은 피드백이 잠깐 보인다.
5. [ ] **Castle** 링크를 눌러 Castle 페이지로 간다.
6. [ ] 방금 완성한 줄이 Castle 목록 **아래쪽**에 새로 쌓여 있고, 완성일이 표시된다.

---

## 3. 직접 조작 (이동·회전·낙하)

1. [ ] **직접 배치**에서 블록 타입(I/O/T 등) 하나를 누른다.
2. [ ] 그리드 **맨 위 중앙**에 해당 블록이 나타난다.
3. [ ] **← / →** 버튼 또는 키보드 화살표로 좌우 이동이 된다.
4. [ ] **↻** 버튼 또는 **↑** 키로 회전이 된다.
5. [ ] **낙하** 버튼 또는 **스페이스**로 즉시 맨 아래까지 떨어져 고정된다.
6. [ ] 고정 후 한 줄이 꽉 차면 줄이 제거되고 Castle에 반영된다.

---

## 4. Castle 페이지·네비게이션

1. [ ] 메인에서 **Castle** 링크를 누르면 `/castle`로 이동한다.
2. [ ] Castle에서 완성된 줄들이 **아래부터** 시간순으로 쌓여 보인다.
3. [ ] **← 습관·테트리스** 링크를 누르면 메인(`/`)으로 돌아온다.

---

## 5. 데이터 백업·복원

1. [ ] 헤더 **데이터** 버튼을 누르면 백업·복원 모달이 열린다.
2. [ ] **내보내기**를 누르면 `habitris-backup-YYYY-MM-DD.json` 파일이 다운로드된다.
3. [ ] **가져오기**에서 방금 내보낸 JSON 파일을 선택하면, "가져오기 성공" 후 페이지가 새로고침되고 습관·그리드·Castle이 복원된다.
4. [ ] 잘못된 파일을 선택하면 에러 메시지가 뜨고 데이터는 바뀌지 않는다.

---

## 6. 반응형·레이아웃

1. [ ] 브라우저 창 너비를 **줄이면** 테트리스 그리드가 잘리지 않고, 필요 시 가로 스크롤로 볼 수 있다.
2. [ ] 창 크기를 다시 키워도 레이아웃이 깨지지 않는다.

---

## 7. 애니메이션·피드백

1. [ ] 한 줄이 완성될 때 그리드 주변에 **짧은 플래시**(초록빛)가 한 번 나온다.
2. [ ] Castle 페이지에서 **새로 쌓인 줄**이 잠깐 **위에서 슬라이드 인**되는 것처럼 보인다.
3. [ ] 토스트 메시지는 몇 초 후 자동으로 사라진다.

---

*문서 버전: 1.0 | 2025-02-24*
